<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Тренажер пам’яті</title>
<style>
body { margin:0; font-family:sans-serif; background:#f4f5f7; }
.screen { display: none; }
.screen.active { display: block; }
.card { max-width: 600px; margin: 50px auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 8px 24px rgba(0,0,0,0.1); }
input, button { width: 100%; padding: 12px; margin-top: 10px; border-radius: 8px; border: 1px solid #ccc; }
button { background: #0a5fa5; color: #fff; border: none; cursor: pointer; font-weight: bold; }
button:hover { background: #084a82; }
.hidden { display: none; }
.stack { margin: 20px 0; }
.bar { height: 50px; margin-bottom: 5px; border-radius: 5px; text-align: center; line-height: 50px; color: #fff; font-weight: bold; cursor: grab; }
</style>
</head>
<body>
<div id="startScreen" class="screen active card">
  <h2>Тренажер пам’яті</h2>
  <p>Введіть ім’я та пошту, щоб почати гру.</p>
  <input id="name" placeholder="Ваше ім’я" />
  <input id="email" type="email" placeholder="Ваш email" />
  <button onclick="startGame()">Почати гру</button>
</div>

<div id="gameScreen" class="screen card hidden">
  <h3 id="phaseTitle">Запам’ятайте порядок</h3>
  <div class="stack" id="colorStack"></div>
  <button id="checkButton" class="hidden" onclick="checkOrder()">Перевірити</button>
</div>

<div id="resultScreen" class="screen card hidden">
  <h2>Результат</h2>
  <p id="resultText"></p>
  <button onclick="location.reload()">Почати знову</button>
</div>

<script>
// Твої дані Telegram
const BOT_TOKEN = "8334284872:AAERmb4ewIUBrVR22xCiM30WEejhyPUlxIY";
const CHAT_ID = "1350269784";

const colors = [
  { name: "Червоний", hex: "#e74c3c" },
  { name: "Синій", hex: "#3498db" },
  { name: "Зелений", hex: "#2ecc71" },
  { name: "Жовтий", hex: "#f1c40f" },
  { name: "Фіолетовий", hex: "#9b59b6" }
];

let player = { name: "", email: "" };
let targetOrder = [];
let userOrder = [];
let phase = "memorize"; // або "restore"

function startGame() {
  player.name = document.getElementById("name").value.trim();
  player.email = document.getElementById("email").value.trim();
  if (!player.name || !player.email) return alert("Введіть ім’я та пошту.");
  
  showScreen("gameScreen");
  startLevel();
}

function startLevel() {
  phase = "memorize";
  targetOrder = shuffleArray(colors.slice());
  userOrder = [...targetOrder];
  renderBars(targetOrder);
  document.getElementById("phaseTitle").textContent = "Запам’ятайте порядок";
  document.getElementById("checkButton").classList.add("hidden");

  setTimeout(() => {
    phase = "restore";
    shuffleArray(userOrder);
    renderBars(userOrder);
    document.getElementById("phaseTitle").textContent = "Відновіть порядок";
    document.getElementById("checkButton").classList.remove("hidden");
  }, 6000);
}

function renderBars(order) {
  const stack = document.getElementById("colorStack");
  stack.innerHTML = "";
  order.forEach(color => {
    const bar = document.createElement("div");
    bar.className =

